<link rel="import" href="../../lib/core-overlay/core-overlay.html">
<link rel="import" href="../../lib/grapp-rest-resource/grapp-rest-resource.html">
<link rel="import" href="../../lib/grapp-breadcrumbs/grapp-breadcrumbs.html">
<link rel="import" href="../coyoho-i18n/coyoho-i18n.html">
<link rel="import" href="../coyoho-data-table/coyoho-data-table.html">
<link rel="import" href="coyoho-devices-new-dialog.html">

<polymer-element name="coyoho-devices-list">

  <template>

    <grapp-app-globals>
      <grapp-app-global-value name="appTitle" value="models.device.other"></grapp-app-global-value>
      <grapp-app-global-value name="appModule" value="devices"></grapp-app-global-value>
      <grapp-app-global-value name="appFunction" value="devices"></grapp-app-global-value>
    </grapp-app-globals>

    <grapp-breadcrumbs>
      <grapp-breadcrumb>{{'models.device.other'|i18n}}</grapp-breadcrumb>
    </grapp-breadcrumbs>

    <grapp-rest-resource url="/devices/:id" resource="{{devices}}"></grapp-rest-resource>

    <coyoho-devices-new-dialog id="newDeviceDialog"></coyoho-devices-new-dialog>

    <coyoho-data-table id="table" model="device" resource="{{devices}}"
                       on-data-table-edit="{{edit}}" on-data-table-new="{{new}}">

      <coyoho-data-column name="name" width="30"></coyoho-data-column>
      <coyoho-data-column name="type" width="10">
        <template>
          <nobr><img src="/images/{{small_icon}}"> {{type | to_snake_case | i18n('models._.one')}}</nobr>
        </template>
      </coyoho-data-column>
      <coyoho-data-column name="address" width="20"></coyoho-data-column>
      <coyoho-data-column name="connected" type="check" heading="" icon="bolt" width="0"
                          headerAlign="center"></coyoho-data-column>
      <coyoho-data-column name="description" width="40"></coyoho-data-column>

    </coyoho-data-table>

  </template>

  <script src="coyoho-devices-list.js"></script>

</polymer-element>
