<link rel="import" href="../../lib/core-header-panel/core-header-panel.html">
<link rel="import" href="../../lib/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../lib/app-router/app-router.html">
<link rel="import" href="../../lib/grapp-launcher-tile/grapp-launcher-tile.html">
<link rel="import" href="../coyoho-session-manager/coyoho-session-manager.html">
<link rel="import" href="../coyoho-help/coyoho-about.html">
<link rel="import" href="../coyoho-help/coyoho-documentation.html">
<link rel="import" href="../coyoho-app-toolbar/coyoho-app-toolbar.html">
<link rel="import" href="../coyoho-app-drawer/coyoho-app-drawer.html">
<link rel="import" href="../coyoho-app-dashboard/coyoho-app-dashboard.html">
<link rel="import" href="../coyoho-manage-settings/coyoho-manage-settings.html">
<link rel="import" href="../coyoho-manage-devices/coyoho-devices-list.html">
<link rel="import" href="../coyoho-manage-devices/coyoho-devices-editor.html">
<link rel="import" href="../coyoho-manage-device-scripts/coyoho-device-scripts-list.html">
<link rel="import" href="../coyoho-manage-device-scripts/coyoho-device-scripts-editor.html">
<link rel="import" href="../coyoho-manage-users/coyoho-users-list.html">
<link rel="import" href="../coyoho-manage-users/coyoho-users-editor.html">
<link rel="import" href="../coyoho-manage-dashboards/coyoho-dashboards-list.html">
<link rel="import" href="../coyoho-manage-dashboards/coyoho-dashboards-editor.html">
<link rel="import" href="../coyoho-manage-buildings/coyoho-buildings-list.html">
<link rel="import" href="../coyoho-manage-buildings/coyoho-buildings-editor.html">
<link rel="import" href="../coyoho-manage-floors/coyoho-floors-list.html">
<link rel="import" href="../coyoho-manage-floors/coyoho-floors-editor.html">
<link rel="import" href="../coyoho-manage-rooms/coyoho-rooms-list.html">
<link rel="import" href="../coyoho-manage-rooms/coyoho-rooms-editor.html">

<polymer-element name="coyoho-app">

  <template>

    <link href="coyoho-app.css" rel="stylesheet" shim-shadowdom>

    <coyoho-i18n defaultLocale="{{$.globals.defaultLocale}}" locale="{{$.globals.locale}}"></coyoho-i18n>

    <coyoho-session-manager id="sessionManager" on-loaded="{{sessionManagerLoaded}}"></coyoho-session-manager>

    <core-drawer-panel id="drawer">

      <core-header-panel drawer>

        <core-toolbar class="core-header">
     			<span id="logo">
	    			<span><grapp-fa-icon icon="home"></grapp-fa-icon>CoYoHo</span>
          </span>
        </core-toolbar>

        <coyoho-app-drawer fit router="{{$.router}}" sessionManager="{{$.sessionManager}}" app="{{app}}"></coyoho-app-drawer>

      </core-header-panel>

      <core-header-panel main id="headerPanel" shadow="false" mode="standard"
                         on-grapp-authentication-error="{{authenticationError}}">

        <coyoho-app-toolbar class="core-header" app="{{app}}"
                            sessionManager="{{$.sessionManager}}">
        </coyoho-app-toolbar>

        <div id="content">
          <app-router id="router" hidden?="{{! $.sessionManager.connected}}">
            <app-route path="/controlpanel" element="coyoho-app-dashboard"></app-route>
            <app-route path="/devices" element="coyoho-devices-list" bindRouter></app-route>
            <app-route path="/devices/:id" element="coyoho-devices-editor" bindRouter></app-route>
            <app-route path="/devices/new/:type" element="coyoho-devices-editor" bindRouter></app-route>
            <app-route path="/device_scripts" element="coyoho-device-scripts-list" bindRouter></app-route>
            <app-route path="/device_scripts/:id" element="coyoho-device-scripts-editor" bindRouter></app-route>
            <app-route path="/buildings" element="coyoho-buildings-list" bindRouter></app-route>
            <app-route path="/buildings/:id" element="coyoho-buildings-editor" bindRouter></app-route>
            <app-route path="/floors" element="coyoho-floors-list" bindRouter></app-route>
            <app-route path="/buildings/:buildingId/floors" element="coyoho-floors-list" bindRouter></app-route>
            <app-route path="/buildings/:buildingId/floors/:id" element="coyoho-floors-editor" bindRouter></app-route>
            <app-route path="/rooms" element="coyoho-rooms-list" bindRouter></app-route>
            <app-route path="/buildings/:buildingId/floors/:floorId/rooms" element="coyoho-rooms-list" bindRouter></app-route>
            <app-route path="/buildings/:buildingId/floors/:floorId/rooms/:id" element="coyoho-rooms-editor" bindRouter></app-route>
            <app-route path="/users" element="coyoho-users-list" bindRouter></app-route>
            <app-route path="/users/:id" element="coyoho-users-editor" bindRouter></app-route>
            <app-route path="/dashboards" element="coyoho-dashboards-list" bindRouter></app-route>
            <app-route path="/dashboards/:id" element="coyoho-dashboards-editor" bindRouter></app-route>
            <app-route path="/settings" element="coyoho-manage-settings" bindRouter></app-route>
            <app-route path="/about" element="coyoho-about"></app-route>
            <app-route path="/documentation" element="coyoho-documentation"></app-route>
            <app-route path="*" redirect="/controlpanel"></app-route>
          </app-router>
        </div>

      </core-header-panel>

    </core-drawer-panel>

  </template>

  <script src="polymer-tools.js"></script>
  <script src="coyoho-app.js"></script>

</polymer-element>
