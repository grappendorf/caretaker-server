<link rel="import" href="../../web_lib/paper-dialog/paper-action-dialog.html">
<link rel="import" href="../../web_lib/paper-spinner/paper-spinner.html">
<link rel="import" href="../../web_lib/grapp-paper-input/grapp-paper-input.html">
<link rel="import" href="../../web_lib/grapp-paper-fab/grapp-paper-fab.html">

<polymer-element name="caretaker-profile-dialog" attributes="processing error">

  <template>

    <paper-action-dialog id="dialog" heading="{{'action.edit_your_profile' | i18n}}">

      <div vertical layout>
        <grapp-paper-input floatingLabel id="email" label="{{'attributes.user.email' | i18n}}" autofocus
                           value="{{email}}" validate="^.+@.+$" on-enter="{{submit}}" on-input="{{validate}}">
        </grapp-paper-input>
        <grapp-paper-input floatingLabel id="name" label="{{'attributes.user.name' | i18n}}"
                           value="{{name}}" on-enter="{{submit}}" on-input="{{validate}}">
        </grapp-paper-input>
      </div>

      <template if="{{error}}">
        <grapp-paper-button error dismissive raised>{{error}}</grapp-paper-button>
      </template>

      <grapp-paper-button affirmative raised success disabled?="{{!valid}}">
        <grapp-fa-icon icon="{{ {check: !processing, spinner: processing} | tokenList}}"
                       spin="{{processing}}"></grapp-fa-icon>
        <span>{{'action.save' | i18n}}</span>
      </grapp-paper-button>

      <grapp-paper-button affirmative raised error>
        <grapp-fa-icon icon="cancel"></grapp-fa-icon>
        <span>{{'action.cancel' | i18n}}</span>
      </grapp-paper-button>

    </paper-action-dialog>

  </template>

  <script src="caretaker-profile-dialog.js"></script>

</polymer-element>
