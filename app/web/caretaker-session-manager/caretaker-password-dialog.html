<link rel="import" href="../../lib/paper-dialog/paper-action-dialog.html">
<link rel="import" href="../../lib/grapp-paper-input/grapp-paper-input.html">
<link rel="import" href="../../lib/grapp-paper-fab/grapp-paper-fab.html">
<link rel="import" href="../../lib/paper-spinner/paper-spinner.html">
<link rel="import" href="../../lib/grapp-paper-fab/grapp-paper-fab.html">

<polymer-element name="caretaker-password-dialog" attributes="password processing error">

  <template>

    <paper-action-dialog id="dialog" heading="{{'action.change_your_password' | i18n}}">

      <div vertical layout>
        <grapp-paper-input floatingLabel id="password" label="{{'attributes.user.new_password' | i18n}}" type="password"
                           autofocus
                           value="{{password}}" on-enter="{{submit}}" on-input="{{validate}}">
        </grapp-paper-input>
        <grapp-paper-input floatingLabel id="passwordConfirm" label="{{'attributes.user.password_confirmation' | i18n}}"
                           type="password"
                           value="{{passwordConfirm}}" on-enter="{{submit}}" on-input="{{validate}}">
        </grapp-paper-input>
      </div>

      <template if="{{error}}">
        <grapp-paper-button error dismissive raised>{{error}}</grapp-paper-button>
      </template>

      <grapp-paper-button affirmative raised success disabled?="{{!valid}}">
        <grapp-fa-icon icon="{{ {check: !processing, spinner: processing} | tokenList}}"
                       spin="{{processing}}"></grapp-fa-icon>
        <span>{{'action.save' | i18n}}</span>
      </grapp-paper-button>

      <grapp-paper-button affirmative raised error>
        <grapp-fa-icon icon="cancel"></grapp-fa-icon>
        <span>{{'action.cancel' | i18n}}</span>
      </grapp-paper-button>

    </paper-action-dialog>

  </template>

  <script src="caretaker-password-dialog.js"></script>

</polymer-element>
