<link rel="import" href="../../lib/grapp-rest-resource/grapp-rest-resource.html">
<link rel="import" href="../../lib/grapp-breadcrumbs/grapp-breadcrumbs.html">
<link rel="import" href="../coyoho-i18n/coyoho-i18n.html">
<link rel="import" href="../coyoho-data-editor/coyoho-data-editor.html">

<polymer-element name="coyoho-device-scripts-editor">

  <template>

    <grapp-rest-resource url="/device_scripts/:id" resource="{{deviceScripts}}"></grapp-rest-resource>

    <grapp-app-globals>
      <grapp-app-global-value name="appTitle" value="models.device_script.other"></grapp-app-global-value>
      <grapp-app-global-value name="appModule" value="devices"></grapp-app-global-value>
      <grapp-app-global-value name="appFunction" value="device_scripts"></grapp-app-global-value>
    </grapp-app-globals>

    <grapp-breadcrumbs path="/device_scripts">
      <grapp-breadcrumb href="/#/device_scripts">{{'models.device_script.other'|i18n}}</grapp-breadcrumb>
      <grapp-breadcrumb>{{$.editor.item.name}}</grapp-breadcrumb>
    </grapp-breadcrumbs>

    <coyoho-data-editor id="editor" model="device_script" resource="{{deviceScripts}}" on-data-editor-back="{{back}}">

      <coyoho-data-field name="name"></coyoho-data-field>
      <coyoho-data-field name="enabled" type="check"></coyoho-data-field>
      <coyoho-data-field name="description"></coyoho-data-field>
      <coyoho-data-field name="script" type="code"></coyoho-data-field>

    </coyoho-data-editor>

  </template>

  <script src="coyoho-device-scripts-editor.js"></script>

</polymer-element>
